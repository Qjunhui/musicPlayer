{"remainingRequest":"/Users/qianjunhui/WebstormProjects/music/node_modules/babel-loader/lib/index.js!/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qianjunhui/WebstormProjects/music/src/views/03.songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qianjunhui/WebstormProjects/music/src/views/03.songs.vue","mtime":1591595440856},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzb25ncycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvbmdzOiBbXSwKICAgICAgdGFnOiAwIC8vIOWIhuexuwoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFnOiBmdW5jdGlvbiB0YWcoKSB7CiAgICAgIHRoaXMuZ2V0U29uZ3MoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNvbmdzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmrYzmm7LliJfooagKICAgIGdldFNvbmdzOiBmdW5jdGlvbiBnZXRTb25ncygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zKHsKICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vdG9wL3NvbmcvJywKICAgICAgICBtZXRob2RzOiAnZ2V0JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHR5cGU6IHRoaXMudGFnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5zb25ncyA9IHJlcy5kYXRhLmRhdGE7IC8vIOWkhOeQhuaXtumXtCDmr6vnp5ItPuWIhuenkgoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnNvbmdzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZHVyYXRpb24gPSBfdGhpcy5zb25nc1tpXS5kdXJhdGlvbjsKICAgICAgICAgIHZhciBtaW4gPSBwYXJzZUludChkdXJhdGlvbiAvIDEwMDAgLyA2MCk7CiAgICAgICAgICBtaW4gPSBtaW4gPCAxMCA/ICcwJyArIG1pbiA6IG1pbjsKICAgICAgICAgIHZhciBzZWMgPSBwYXJzZUludChkdXJhdGlvbiAvIDEwMDAgJSA2MCk7CiAgICAgICAgICBzZWMgPSBzZWMgPCAxMCA/ICcwJyArIHNlYyA6IHNlYzsKICAgICAgICAgIF90aGlzLnNvbmdzW2ldLmR1cmF0aW9uID0gIiIuY29uY2F0KG1pbiwgIjoiKS5jb25jYXQoc2VjKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaSreaUvuatjOabsgogICAgcGxheU11c2ljOiBmdW5jdGlvbiBwbGF5TXVzaWMoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3NvbmcvdXJsJywKICAgICAgICBtZXRob2RzOiAnZ2V0JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHVybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsOwogICAgICAgIF90aGlzMi4kcGFyZW50Lm11c2ljVXJsID0gdXJsOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["03.songs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA,CAFA,CAEA;;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,QAAA;AACA;AAHA,GARA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,QAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,iCADA;AAEA,QAAA,OAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA;AADA;AAHA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CADA,CAEA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,QAAA,GAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,QAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,QAAA,GAAA,IAAA,GAAA,EAAA,CAAA;AACA,UAAA,GAAA,GAAA,GAAA,GAAA,EAAA,GAAA,MAAA,GAAA,GAAA,GAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,QAAA,GAAA,IAAA,GAAA,EAAA,CAAA;AACA,UAAA,GAAA,GAAA,GAAA,GAAA,EAAA,GAAA,MAAA,GAAA,GAAA,GAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,QAAA,aAAA,GAAA,cAAA,GAAA;AACA;AACA,OAjBA;AAkBA,KArBA;AAsBA;AACA,IAAA,SAvBA,qBAuBA,EAvBA,EAuBA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,gCADA;AAEA,QAAA,OAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,EAAA,EAAA;AADA;AAHA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,QAAA,GAAA,GAAA;AACA,OATA;AAUA;AAlCA;AAhBA,CAAA","sourcesContent":["<template>\n    <div class=\"songs-container\">\n        <div class=\"tab-bar\">\n            <span class=\"item\" :class=\"{active:tag==0}\" @click=\"tag=0\">全部</span>\n            <span class=\"item\" :class=\"{active:tag==7}\" @click=\"tag=7\">华语</span>\n            <span class=\"item\" :class=\"{active:tag==96}\" @click=\"tag=96\">欧美</span>\n            <span class=\"item\" :class=\"{active:tag==8}\" @click=\"tag=8\">日本</span>\n            <span class=\"item\" :class=\"{active:tag==16}\" @click=\"tag=16\">韩国</span>\n        </div>\n        <!-- 底部的table -->\n        <table class=\"el-table playlit-table\">\n            <thead>\n            <th></th>\n            <th></th>\n            <th>音乐标题</th>\n            <th>歌手</th>\n            <th>专辑</th>\n            <th>时长</th>\n            </thead>\n            <tbody>\n            <tr class=\"el-table__row\" v-for=\"(item,index) in songs\" :key=\"index\">\n                <td>{{ index+1 }}</td>\n                <td>\n                    <div class=\"img-wrap\">\n                        <img :src=\"item.album.picUrl\" alt=\"\" />\n                        <span class=\"iconfont icon-play\" @click=\"playMusic(item.id)\"></span>\n                    </div>\n                </td>\n                <td>\n                    <div class=\"song-wrap\">\n                        <div class=\"name-wrap\">\n                            <span>{{ item.name }}</span>\n                            <span class=\"iconfont icon-mv\"></span>\n                        </div>\n                        <span>{{ }}</span>\n                    </div>\n                </td>\n                <td>{{ item.artists[0].name }}</td>\n                <td>{{ item.album.name }}</td>\n                <td>{{ item.duration }}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: 'songs',\n        data() {\n            return {\n                songs: [],\n                tag: 0 // 分类\n            };\n        },\n        watch: {\n            tag() {\n                this.getSongs()\n            }\n        },\n        created(){\n            this.getSongs()\n        },\n        methods: {\n            // 获取歌曲列表\n            getSongs() {\n                axios({\n                    url: 'https://autumnfish.cn/top/song/',\n                    methods: 'get',\n                    params: {\n                        type: this.tag\n                    }\n                }).then(res => {\n                    this.songs = res.data.data\n                    // 处理时间 毫秒->分秒\n                    for (var i=0;i<this.songs.length;i++) {\n                        let duration = this.songs[i].duration\n                        let min = parseInt(duration/1000/60)\n                        min = min < 10 ? '0'+min : min\n                        let sec = parseInt(duration/1000%60)\n                        sec = sec < 10 ? '0'+sec : sec\n                        this.songs[i].duration = `${min}:${sec}`\n                    }\n                })\n            },\n            // 播放歌曲\n            playMusic(id) {\n                axios({\n                    url: 'https://autumnfish.cn/song/url',\n                    methods: 'get',\n                    params: {\n                        id: id\n                    }\n                }).then(res => {\n                    let url = res.data.data[0].url\n                    this.$parent.musicUrl = url\n                })\n            }\n        }\n    };\n</script>\n\n<style >\n\n</style>\n"],"sourceRoot":"src/views"}]}