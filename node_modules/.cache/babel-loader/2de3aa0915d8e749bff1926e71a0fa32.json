{"remainingRequest":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/babel-loader/lib/index.js!/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qianjunhui/WebstormProjects/musicPlayer/src/views/03.songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/src/views/03.songs.vue","mtime":1591600166421},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzb25ncycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvbmdzOiBbXSwKICAgICAgdGFnOiAwIC8vIOWIhuexuwoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGFnOiBmdW5jdGlvbiB0YWcoKSB7CiAgICAgIHRoaXMuZ2V0U29uZ3MoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNvbmdzKCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICAvLyDlpITnkIbml7bpl7Qg5q+r56eSLT7liIbnp5IKICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZSkgewogICAgICB2YXIgbWluID0gcGFyc2VJbnQodGltZSAvIDEwMDAgLyA2MCk7CiAgICAgIG1pbiA9IG1pbiA8IDEwID8gJzAnICsgbWluIDogbWluOwogICAgICB2YXIgc2VjID0gcGFyc2VJbnQodGltZSAvIDEwMDAgJSA2MCk7CiAgICAgIHNlYyA9IHNlYyA8IDEwID8gJzAnICsgc2VjIDogc2VjOwogICAgICByZXR1cm4gbWluICsgJzonICsgc2VjOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5q2M5puy5YiX6KGoCiAgICBnZXRTb25nczogZnVuY3Rpb24gZ2V0U29uZ3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3RvcC9zb25nLycsCiAgICAgICAgbWV0aG9kczogJ2dldCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB0eXBlOiB0aGlzLnRhZwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuc29uZ3MgPSByZXMuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmkq3mlL7mrYzmm7IKICAgIHBsYXlNdXNpYzogZnVuY3Rpb24gcGxheU11c2ljKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJ2h0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL3VybCcsCiAgICAgICAgbWV0aG9kczogJ2dldCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciB1cmwgPSByZXMuZGF0YS5kYXRhWzBdLnVybDsKICAgICAgICBfdGhpczIuJHBhcmVudC5tdXNpY1VybCA9IHVybDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["03.songs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA,CAFA,CAEA;;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,QAAA;AACA;AAHA,GARA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,QAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAAA,EAAA,oBAAA,IAAA,EAAA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,IAAA,GAAA,IAAA,GAAA,EAAA,CAAA;AACA,MAAA,GAAA,GAAA,GAAA,GAAA,EAAA,GAAA,MAAA,GAAA,GAAA,GAAA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,IAAA,GAAA,IAAA,GAAA,EAAA,CAAA;AACA,MAAA,GAAA,GAAA,GAAA,GAAA,EAAA,GAAA,MAAA,GAAA,GAAA,GAAA;AACA,aAAA,GAAA,GAAA,GAAA,GAAA,GAAA;AACA;AARA,GAhBA;AA0BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,iCADA;AAEA,QAAA,OAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA;AADA;AAHA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,OARA;AASA,KAZA;AAaA;AACA,IAAA,SAdA,qBAcA,EAdA,EAcA;AAAA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,gCADA;AAEA,QAAA,OAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,EAAA,EAAA;AADA;AAHA,OAAA,CAAA,CAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,QAAA,GAAA,GAAA;AACA,OATA;AAUA;AAzBA;AA1BA,CAAA","sourcesContent":["<template>\n    <div class=\"songs-container\">\n        <div class=\"tab-bar\">\n            <span class=\"item\" :class=\"{active:tag==0}\" @click=\"tag=0\">全部</span>\n            <span class=\"item\" :class=\"{active:tag==7}\" @click=\"tag=7\">华语</span>\n            <span class=\"item\" :class=\"{active:tag==96}\" @click=\"tag=96\">欧美</span>\n            <span class=\"item\" :class=\"{active:tag==8}\" @click=\"tag=8\">日本</span>\n            <span class=\"item\" :class=\"{active:tag==16}\" @click=\"tag=16\">韩国</span>\n        </div>\n        <!-- 底部的table -->\n        <table class=\"el-table playlit-table\">\n            <thead>\n            <th></th>\n            <th></th>\n            <th>音乐标题</th>\n            <th>歌手</th>\n            <th>专辑</th>\n            <th>时长</th>\n            </thead>\n            <tbody>\n            <tr class=\"el-table__row\" v-for=\"(item,index) in songs\" :key=\"index\">\n                <td>{{ index+1 }}</td>\n                <td>\n                    <div class=\"img-wrap\">\n                        <img :src=\"item.album.picUrl\" alt=\"\" />\n                        <span class=\"iconfont icon-play\" @click=\"playMusic(item.id)\"></span>\n                    </div>\n                </td>\n                <td>\n                    <div class=\"song-wrap\">\n                        <div class=\"name-wrap\">\n                            <span>{{ item.name }}</span>\n                            <span class=\"iconfont icon-mv\"></span>\n                        </div>\n                        <span>{{ }}</span>\n                    </div>\n                </td>\n                <td>{{ item.artists[0].name }}</td>\n                <td>{{ item.album.name }}</td>\n                <td>{{ item.duration | formatTime }}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: 'songs',\n        data() {\n            return {\n                songs: [],\n                tag: 0 // 分类\n            };\n        },\n        watch: {\n            tag() {\n                this.getSongs()\n            }\n        },\n        created(){\n            this.getSongs()\n        },\n        filters: {\n            // 处理时间 毫秒->分秒\n            formatTime: function (time) {\n                let min = parseInt(time / 1000 / 60)\n                min = min < 10 ? '0' + min : min\n                let sec = parseInt(time / 1000 % 60)\n                sec = sec < 10 ? '0' + sec : sec\n                return min + ':' + sec\n            }\n        },\n        methods: {\n            // 获取歌曲列表\n            getSongs() {\n                axios({\n                    url: 'https://autumnfish.cn/top/song/',\n                    methods: 'get',\n                    params: {\n                        type: this.tag\n                    }\n                }).then(res => {\n                    this.songs = res.data.data\n                })\n            },\n            // 播放歌曲\n            playMusic(id) {\n                axios({\n                    url: 'https://autumnfish.cn/song/url',\n                    methods: 'get',\n                    params: {\n                        id: id\n                    }\n                }).then(res => {\n                    let url = res.data.data[0].url\n                    this.$parent.musicUrl = url\n                })\n            }\n        }\n    };\n</script>\n\n<style >\n\n</style>\n"],"sourceRoot":"src/views"}]}