{"remainingRequest":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qianjunhui/WebstormProjects/music/src/views/01.discovery.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qianjunhui/WebstormProjects/music/src/views/01.discovery.vue","mtime":1591598469788},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdkaXNjb3ZlcnknLAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJhbm5lcnM6IFtdLAogICAgICAgICAgICBwZXJzb25hbGl6ZWQ6IFtdLAogICAgICAgICAgICBuZXdzb25nczogW10sCiAgICAgICAgICAgIG12czogW10KICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICAvLyAg6L2u5pKt5Zu+CiAgICAgICAgYXhpb3MoewogICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vYmFubmVyJywKICAgICAgICAgICAgbWV0aG9kczogJ2dldCcKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lcnMKICAgICAgICB9KQogICAgICAgIC8vIOaOqOiNkOatjOWNlQogICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3BlcnNvbmFsaXplZCcsCiAgICAgICAgICAgIG1ldGhvZHM6ICdnZXQnLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIGxpbWl0OiAxMAogICAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLnBlcnNvbmFsaXplZCA9IHJlcy5kYXRhLnJlc3VsdAogICAgICAgIH0pCiAgICAgICAgLy8g5pyA5paw6Z+z5LmQCiAgICAgICAgYXhpb3MoewogICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vcGVyc29uYWxpemVkL25ld3NvbmcnLAogICAgICAgICAgICBtZXRob2RzOiAnZ2V0JwogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5uZXdzb25ncyA9IHJlcy5kYXRhLnJlc3VsdAogICAgICAgIH0pCiAgICAgICAgLy8g5o6o6I2QTVYKICAgICAgICBheGlvcyh7CiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXV0dW1uZmlzaC5jbi9wZXJzb25hbGl6ZWQvbXYnLAogICAgICAgICAgICBtZXRob2RzOiAnZ2V0JwogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5tdnMgPSByZXMuZGF0YS5yZXN1bHQKICAgICAgICB9KQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC8vIOaSreaUvumfs+S5kAogICAgICAgIHBsYXlNdXNpYyhpZCkgewogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vc29uZy91cmwnLAogICAgICAgICAgICAgICAgbWV0aG9kczogJ2dldCcsCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBpZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgc29uZ1VybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRwYXJlbnQubXVzaWNVcmwpCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQubXVzaWNVcmwgPSBzb25nVXJsCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyBNVgogICAgICAgIHRvTVYoaWQpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9tdj9pZD0ke2lkfWApOwogICAgICAgIH0sCiAgICAgICAgLy8g5q2M5Y2V6K+m5oOFCiAgICAgICAgdG9QbGF5TGlzdChpZCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3BsYXlsaXN0P2lkPSR7aWR9YCk7CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["01.discovery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"01.discovery.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"discovery-container\">\n        <!-- 轮播图 -->\n        <el-carousel class=\"\" :interval=\"4000\" type=\"card\">\n            <el-carousel-item v-for=\"(item,index) in banners\" :key=\"index\">\n                <img :src=\"item.imageUrl\" alt=\"\" @click=\"playMusic(item.targetId)\"/>\n            </el-carousel-item>\n        </el-carousel>\n        <!-- 推荐歌单 -->\n        <div class=\"recommend\">\n            <h3 class=\"title\">\n                推荐歌单\n            </h3>\n            <div class=\"items\">\n                <div\n                    class=\"item\"\n                    v-for=\"(item,index) in personalized\"\n                    :key=\"index\"\n                    @click=\"toPlayList(item.id)\"\n                >\n                    <div class=\"img-wrap\">\n                        <div class=\"desc-wrap\">\n                            <span class=\"desc\">{{ item.copywriter }}</span>\n                        </div>\n                        <img :src=\"item.picUrl\" alt=\"\" />\n                        <span class=\"iconfont icon-play\"></span>\n                    </div>\n                    <p class=\"name\">{{ item.name }}</p>\n                </div>\n            </div>\n        </div>\n        <!-- 最新音乐 -->\n        <div class=\"news\">\n            <h3 class=\"title\">\n                最新音乐\n            </h3>\n            <div class=\"items\">\n                <div class=\"item\" v-for=\"(item,index) in newsongs\" :key=\"index\">\n                    <div class=\"img-wrap\">\n                        <img :src=\"item.picUrl\" alt=\"\" />\n                        <span class=\"iconfont icon-play\" @click=\"playMusic(item.id)\"></span>\n                    </div>\n                    <div class=\"song-wrap\">\n                        <div class=\"song-name\">{{ item.name }}</div>\n                        <div class=\"singer\">{{ item.song.artists[0].name }}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- 推荐MV -->\n        <div class=\"mvs\">\n            <h3 class=\"title\">推荐MV</h3>\n            <div class=\"items\">\n                <div class=\"item\" v-for=\"(item,index) in mvs\" :key=\"index\">\n                    <div class=\"img-wrap\">\n                        <img :src=\"item.picUrl\" alt=\"\" />\n                        <span class=\"iconfont icon-play\" @click=\"toMV(item.id)\"></span>\n                        <div class=\"num-wrap\">\n                            <div class=\"iconfont icon-play\"></div>\n                            <div class=\"num\">{{ item.playCount }}</div>\n                        </div>\n                    </div>\n                    <div class=\"info-wrap\">\n                        <div class=\"name\">{{ item.name }}</div>\n                        <div class=\"singer\">{{ item.artistName }}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    export default {\n        name: 'discovery',\n        data(){\n            return {\n                banners: [],\n                personalized: [],\n                newsongs: [],\n                mvs: []\n            }\n        },\n        created() {\n            //  轮播图\n            axios({\n                url: 'https://autumnfish.cn/banner',\n                methods: 'get'\n            }).then(res => {\n                this.banners = res.data.banners\n            })\n            // 推荐歌单\n            axios({\n                url: 'https://autumnfish.cn/personalized',\n                methods: 'get',\n                params: {\n                    limit: 10\n                }\n            }).then(res => {\n                this.personalized = res.data.result\n            })\n            // 最新音乐\n            axios({\n                url: 'https://autumnfish.cn/personalized/newsong',\n                methods: 'get'\n            }).then(res => {\n                this.newsongs = res.data.result\n            })\n            // 推荐MV\n            axios({\n                url: 'https://autumnfish.cn/personalized/mv',\n                methods: 'get'\n            }).then(res => {\n                this.mvs = res.data.result\n            })\n        },\n        methods:{\n            // 播放音乐\n            playMusic(id) {\n                axios({\n                    url: 'https://autumnfish.cn/song/url',\n                    methods: 'get',\n                    params: {\n                        id\n                    }\n                }).then(res => {\n                    let songUrl = res.data.data[0].url\n                    // console.log(this.$parent.musicUrl)\n                    this.$parent.musicUrl = songUrl\n                })\n            },\n            // MV\n            toMV(id) {\n                this.$router.push(`/mv?id=${id}`);\n            },\n            // 歌单详情\n            toPlayList(id) {\n                this.$router.push(`/playlist?id=${id}`);\n            }\n        }\n    };\n</script>\n\n<style >\n\n</style>\n"]}]}