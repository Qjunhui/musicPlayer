{"remainingRequest":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qianjunhui/WebstormProjects/music/src/views/04.mvs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qianjunhui/WebstormProjects/music/src/views/04.mvs.vue","mtime":1591262741547},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnbXZzJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8g5oC75p2h5pWwCiAgICAgICAgICAgIHRvdGFsOiAyMCwKICAgICAgICAgICAgLy8g6aG156CBCiAgICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICAgIC8vIOmhteWuuemHjwogICAgICAgICAgICBsaW1pdDogOCwKICAgICAgICAgICAgYXJlYTogJ+WFqOmDqCcsCiAgICAgICAgICAgIHR5cGU6ICflhajpg6gnLAogICAgICAgICAgICBvcmRlcjogJ+S4iuWNh+acgOW/qycsCiAgICAgICAgICAgIG12czogW10KICAgICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRNdnMoKQogICAgfSwKICAgIHdhdGNoOnsKICAgICAgICBhcmVhKCl7CiAgICAgICAgICAgIHRoaXMucGFnZSA9IDEKICAgICAgICAgICAgdGhpcy5nZXRNdnMoKQogICAgICAgIH0sCiAgICAgICAgdHlwZSgpewogICAgICAgICAgICB0aGlzLnBhZ2UgPSAxCiAgICAgICAgICAgIHRoaXMuZ2V0TXZzKCkKICAgICAgICB9LAogICAgICAgIG9yZGVyKCl7CiAgICAgICAgICAgIHRoaXMucGFnZSA9IDEKICAgICAgICAgICAgdGhpcy5nZXRNdnMoKQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0TXZzKCkgewogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vbXYvYWxsJywKICAgICAgICAgICAgICAgIG1ldGhvZHM6ICdnZXQnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgYXJlYTogdGhpcy5hcmVhLAogICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSwKICAgICAgICAgICAgICAgICAgICBvcmRlcjogdGhpcy5vcmRlciwKICAgICAgICAgICAgICAgICAgICBsaW1pdDogdGhpcy5saW1pdCwKICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6ICh0aGlzLnBhZ2UtMSkgKiB0aGlzLmxpbWl0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubXZzID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgLy8g5aSE55CG5qyh5pWw77ya6LaF6L+HMTDkuIfvvIzmmL7npLp4eOS4hwogICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wO2k8dGhpcy5tdnMubGVuZ3RoO2krKykgewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubXZzW2ldLnBsYXlDb3VudCA+IDEwMDAwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXZzW2ldLnBsYXlDb3VudCA9IHBhcnNlSW50KHRoaXMubXZzW2ldLnBsYXlDb3VudC8xMDAwMCkrJ+S4hycKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDmgLvpobXmlbDvvJrmjqXlj6Ppl67popgKICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmNvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB0b012KGlkKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbXY/aWQ9JHtpZH1gKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgICAgICAgIHRoaXMucGFnZSA9IHZhbAogICAgICAgICAgICB0aGlzLmdldE12cygpCiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["04.mvs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"04.mvs.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"mvs-container\">\n        <div class=\"filter-wrap\">\n            <div class=\"seciton-wrap\">\n                <span class=\"section-type\">地区:</span>\n                <ul class=\"tabs-wrap\">\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:area=='全部'}\" @click=\"area='全部'\">全部</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:area=='内地'}\" @click=\"area='内地'\">内地</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:area=='港台'}\" @click=\"area='港台'\">港台</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:area=='欧美'}\" @click=\"area='欧美'\">欧美</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:area=='日本'}\" @click=\"area='日本'\">日本</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:area=='韩国'}\" @click=\"area='韩国'\">韩国</span>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"type-wrap\">\n                <span class=\"type-type\">类型:</span>\n                <ul class=\"tabs-wrap\">\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:type=='全部'}\" @click=\"type='全部'\">全部</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:type=='官方版'}\" @click=\"type='官方版'\">官方版</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:type=='原声'}\" @click=\"type='原声'\">原声</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:type=='现场版'}\" @click=\"type='现场版'\">现场版</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:type=='网易出品'}\" @click=\"type='网易出品'\">网易出品</span>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"order-wrap\">\n                <span class=\"order-type\">排序:</span>\n                <ul class=\"tabs-wrap\">\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:order=='上升最快'}\" @click=\"order='上升最快'\">上升最快</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:order=='最热'}\" @click=\"order='最热'\">最热</span>\n                    </li>\n                    <li class=\"tab\">\n                        <span class=\"title\" :class=\"{active:order=='最新'}\" @click=\"order='最新'\">最新</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <!-- mv容器 -->\n        <!-- 推荐MV -->\n        <div class=\"mvs\">\n            <div class=\"items\">\n                <div class=\"item\" v-for=\"(item,index) in mvs\" :key=\"index\" @click=\"toMv(item.id)\">\n                    <div class=\"img-wrap\">\n                        <img :src=\"item.cover\" alt=\"\" />\n                        <div class=\"num-wrap\">\n                            <div class=\"iconfont icon-play\"></div>\n                            <div class=\"num\">{{ item.playCount }}</div>\n                        </div>\n                    </div>\n                    <div class=\"info-wrap\">\n                        <div class=\"name\">{{ item.name }}</div>\n                        <div class=\"singer\">{{ item.artistName }}</div>\n                    </div>\n                </div>\n            </div>\n            <!-- 分页器 -->\n            <el-pagination\n                    @current-change=\"handleCurrentChange\"\n                    background\n                    layout=\"prev, pager, next\"\n                    :total=\"total\"\n                    :current-page=\"page\"\n                    :page-size=\"5\"\n                    :limit=\"limit\"\n            >\n            </el-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: 'mvs',\n        data() {\n            return {\n                // 总条数\n                total: 20,\n                // 页码\n                page: 1,\n                // 页容量\n                limit: 8,\n                area: '全部',\n                type: '全部',\n                order: '上升最快',\n                mvs: []\n            };\n        },\n        created() {\n            this.getMvs()\n        },\n        watch:{\n            area(){\n                this.page = 1\n                this.getMvs()\n            },\n            type(){\n                this.page = 1\n                this.getMvs()\n            },\n            order(){\n                this.page = 1\n                this.getMvs()\n            }\n        },\n        methods: {\n            getMvs() {\n                axios({\n                    url: 'https://autumnfish.cn/mv/all',\n                    methods: 'get',\n                    params: {\n                        area: this.area,\n                        type: this.type,\n                        order: this.order,\n                        limit: this.limit,\n                        offset: (this.page-1) * this.limit\n                    }\n                }).then(res => {\n                    this.mvs = res.data.data\n                    // 处理次数：超过10万，显示xx万\n                    for (var i=0;i<this.mvs.length;i++) {\n                        if(this.mvs[i].playCount > 100000){\n                            this.mvs[i].playCount = parseInt(this.mvs[i].playCount/10000)+'万'\n                        }\n                    }\n                    // 总页数：接口问题\n                    if(res.data.count) {\n                        this.total = res.data.count\n                    }\n                })\n            },\n            toMv(id) {\n                this.$router.push(`/mv?id=${id}`);\n            },\n            handleCurrentChange(val) {\n                this.page = val\n                this.getMvs()\n            }\n        }\n    };\n</script>\n\n<style >\n\n</style>\n"]}]}