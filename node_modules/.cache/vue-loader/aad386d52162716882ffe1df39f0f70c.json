{"remainingRequest":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qianjunhui/WebstormProjects/musicPlayer/src/views/03.songs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/src/views/03.songs.vue","mtime":1591600166421},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/musicPlayer/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnc29uZ3MnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzb25nczogW10sCiAgICAgICAgICAgIHRhZzogMCAvLyDliIbnsbsKICAgICAgICB9OwogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgdGFnKCkgewogICAgICAgICAgICB0aGlzLmdldFNvbmdzKCkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMuZ2V0U29uZ3MoKQogICAgfSwKICAgIGZpbHRlcnM6IHsKICAgICAgICAvLyDlpITnkIbml7bpl7Qg5q+r56eSLT7liIbnp5IKICAgICAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiAodGltZSkgewogICAgICAgICAgICBsZXQgbWluID0gcGFyc2VJbnQodGltZSAvIDEwMDAgLyA2MCkKICAgICAgICAgICAgbWluID0gbWluIDwgMTAgPyAnMCcgKyBtaW4gOiBtaW4KICAgICAgICAgICAgbGV0IHNlYyA9IHBhcnNlSW50KHRpbWUgLyAxMDAwICUgNjApCiAgICAgICAgICAgIHNlYyA9IHNlYyA8IDEwID8gJzAnICsgc2VjIDogc2VjCiAgICAgICAgICAgIHJldHVybiBtaW4gKyAnOicgKyBzZWMKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOiOt+WPluatjOabsuWIl+ihqAogICAgICAgIGdldFNvbmdzKCkgewogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vdG9wL3NvbmcvJywKICAgICAgICAgICAgICAgIG1ldGhvZHM6ICdnZXQnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy50YWcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zb25ncyA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOaSreaUvuatjOabsgogICAgICAgIHBsYXlNdXNpYyhpZCkgewogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vc29uZy91cmwnLAogICAgICAgICAgICAgICAgbWV0aG9kczogJ2dldCcsCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBpZDogaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgbGV0IHVybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsCiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQubXVzaWNVcmwgPSB1cmwKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["03.songs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"03.songs.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"songs-container\">\n        <div class=\"tab-bar\">\n            <span class=\"item\" :class=\"{active:tag==0}\" @click=\"tag=0\">全部</span>\n            <span class=\"item\" :class=\"{active:tag==7}\" @click=\"tag=7\">华语</span>\n            <span class=\"item\" :class=\"{active:tag==96}\" @click=\"tag=96\">欧美</span>\n            <span class=\"item\" :class=\"{active:tag==8}\" @click=\"tag=8\">日本</span>\n            <span class=\"item\" :class=\"{active:tag==16}\" @click=\"tag=16\">韩国</span>\n        </div>\n        <!-- 底部的table -->\n        <table class=\"el-table playlit-table\">\n            <thead>\n            <th></th>\n            <th></th>\n            <th>音乐标题</th>\n            <th>歌手</th>\n            <th>专辑</th>\n            <th>时长</th>\n            </thead>\n            <tbody>\n            <tr class=\"el-table__row\" v-for=\"(item,index) in songs\" :key=\"index\">\n                <td>{{ index+1 }}</td>\n                <td>\n                    <div class=\"img-wrap\">\n                        <img :src=\"item.album.picUrl\" alt=\"\" />\n                        <span class=\"iconfont icon-play\" @click=\"playMusic(item.id)\"></span>\n                    </div>\n                </td>\n                <td>\n                    <div class=\"song-wrap\">\n                        <div class=\"name-wrap\">\n                            <span>{{ item.name }}</span>\n                            <span class=\"iconfont icon-mv\"></span>\n                        </div>\n                        <span>{{ }}</span>\n                    </div>\n                </td>\n                <td>{{ item.artists[0].name }}</td>\n                <td>{{ item.album.name }}</td>\n                <td>{{ item.duration | formatTime }}</td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: 'songs',\n        data() {\n            return {\n                songs: [],\n                tag: 0 // 分类\n            };\n        },\n        watch: {\n            tag() {\n                this.getSongs()\n            }\n        },\n        created(){\n            this.getSongs()\n        },\n        filters: {\n            // 处理时间 毫秒->分秒\n            formatTime: function (time) {\n                let min = parseInt(time / 1000 / 60)\n                min = min < 10 ? '0' + min : min\n                let sec = parseInt(time / 1000 % 60)\n                sec = sec < 10 ? '0' + sec : sec\n                return min + ':' + sec\n            }\n        },\n        methods: {\n            // 获取歌曲列表\n            getSongs() {\n                axios({\n                    url: 'https://autumnfish.cn/top/song/',\n                    methods: 'get',\n                    params: {\n                        type: this.tag\n                    }\n                }).then(res => {\n                    this.songs = res.data.data\n                })\n            },\n            // 播放歌曲\n            playMusic(id) {\n                axios({\n                    url: 'https://autumnfish.cn/song/url',\n                    methods: 'get',\n                    params: {\n                        id: id\n                    }\n                }).then(res => {\n                    let url = res.data.data[0].url\n                    this.$parent.musicUrl = url\n                })\n            }\n        }\n    };\n</script>\n\n<style >\n\n</style>\n"]}]}