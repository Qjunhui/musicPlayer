{"remainingRequest":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qianjunhui/WebstormProjects/music/src/views/02.playlists.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qianjunhui/WebstormProjects/music/src/views/02.playlists.vue","mtime":1591256143130},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qianjunhui/WebstormProjects/music/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAncmVjb21tZW5kJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8g5oC75p2h5pWwCiAgICAgICAgICAgIHRvdGFsOjAsCiAgICAgICAgICAgIC8vIOmhteeggQogICAgICAgICAgICBwYWdlOjEsCiAgICAgICAgICAgIGhpZ2hxdWFsaXR5OiB7fSwKICAgICAgICAgICAgcGxheWxpc3RzOiBbXSwKICAgICAgICAgICAgdGFnOiAn5YWo6YOoJwogICAgICAgIH07CiAgICB9LAogICAgLy8g5L6m5ZCs5ZmoCiAgICB3YXRjaDp7CiAgICAgICAgdGFnKCkgewogICAgICAgICAgICB0aGlzLnRvcERhdGEoKS8vIOeyvuWTgeatjOWNlQogICAgICAgICAgICB0aGlzLmluZGV4RGF0YSgpLy8g5q2M5Y2V5YiX6KGoCiAgICAgICAgICAgIHRoaXMucGFnZSA9IDEKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMudG9wRGF0YSgpLy8g57K+5ZOB5q2M5Y2VCiAgICAgICAgdGhpcy5pbmRleERhdGEoKS8vIOatjOWNleWIl+ihqAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICB0b3BEYXRhKCkgewogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vdG9wL3BsYXlsaXN0L2hpZ2hxdWFsaXR5JywKICAgICAgICAgICAgICAgIG1ldGhvZHM6ICdnZXQnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDEsCiAgICAgICAgICAgICAgICAgICAgY2F0OiB0aGlzLnRhZwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hxdWFsaXR5ID0gcmVzLmRhdGEucGxheWxpc3RzWzBdCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBpbmRleERhdGEoKSB7CiAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXV0dW1uZmlzaC5jbi90b3AvcGxheWxpc3QvJywKICAgICAgICAgICAgICAgIG1ldGhvZHM6ICdnZXQnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDEwLAogICAgICAgICAgICAgICAgICAgIG9mZnNldDogKHRoaXMucGFnZS0xKSAqIDEwLAogICAgICAgICAgICAgICAgICAgIGNhdDogdGhpcy50YWcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdHMgPSByZXMuZGF0YS5wbGF5bGlzdHMKICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgICAgICAgdGhpcy5wYWdlID0gdmFsCiAgICAgICAgICAgIHRoaXMuaW5kZXhEYXRhKCkKICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["02.playlists.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"02.playlists.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"playlists-container\">\n        <!-- 同步 -->\n        <div class=\"top-card\">\n            <div class=\"icon-wrap\">\n                <img :src=\"highquality.coverImgUrl\" alt=\"\" />\n            </div>\n            <div class=\"content-wrap\">\n                <div class=\"tag\">精品歌单</div>\n                <div class=\"title\">\n                    {{ highquality.name }}\n                </div>\n                <div class=\"info\">\n                    {{ highquality.description }}\n                </div>\n            </div>\n            <img :src=\"highquality.coverImgUrl\" alt=\"\" class=\"bg\" />\n            <div class=\"bg-mask\"></div>\n        </div>\n        <div class=\"tab-container\">\n            <!-- tab栏 顶部 -->\n            <div class=\"tab-bar\">\n                <span class=\"item\" :class=\"{active:tag=='全部'}\" @click=\"tag='全部'\">全部</span>\n                <span class=\"item\" :class=\"{active:tag=='欧美'}\" @click=\"tag='欧美'\">欧美</span>\n                <span class=\"item\" :class=\"{active:tag=='华语'}\" @click=\"tag='华语'\">华语</span>\n                <span class=\"item\" :class=\"{active:tag=='流行'}\" @click=\"tag='流行'\">流行</span>\n                <span class=\"item\" :class=\"{active:tag=='说唱'}\" @click=\"tag='说唱'\">说唱</span>\n                <span class=\"item\" :class=\"{active:tag=='摇滚'}\" @click=\"tag='摇滚'\">摇滚</span>\n                <span class=\"item\" :class=\"{active:tag=='民谣'}\" @click=\"tag='民谣'\">民谣</span>\n                <span class=\"item\" :class=\"{active:tag=='电子'}\" @click=\"tag='电子'\">电子</span>\n                <span class=\"item\" :class=\"{active:tag=='轻音乐'}\" @click=\"tag='轻音乐'\">轻音乐</span>\n                <span class=\"item\" :class=\"{active:tag=='影视原声'}\" @click=\"tag='影视原声'\">影视原声</span>\n                <span class=\"item\" :class=\"{active:tag=='ACG'}\" @click=\"tag='ACG'\">ACG</span>\n                <span class=\"item\" :class=\"{active:tag=='怀旧'}\" @click=\"tag='怀旧'\">怀旧</span>\n                <span class=\"item\" :class=\"{active:tag=='治愈'}\" @click=\"tag='治愈'\">治愈</span>\n                <span class=\"item\" :class=\"{active:tag=='旅行'}\" @click=\"tag='旅行'\">旅行</span>\n            </div>\n            <!-- tab的内容区域 -->\n            <div class=\"tab-content\">\n                <div class=\"items\">\n                    <div class=\"item\" v-for=\"(item,index) in playlists\" :key=\"index\">\n                        <div class=\"img-wrap\">\n                            <div class=\"num-wrap\">\n                                播放量:\n                                <span class=\"num\">{{ item.playCount }}</span>\n                            </div>\n                            <img :src=\"item.coverImgUrl\" alt=\"\" />\n                            <span class=\"iconfont icon-play\"></span>\n                        </div>\n                        <p class=\"name\">{{ item.name }}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- 分页器 -->\n        <el-pagination\n                @current-change=\"handleCurrentChange\"\n                background\n                layout=\"prev, pager, next\"\n                :total=\"total\"\n                :current-page=\"page\"\n                :page-size=\"20\"\n        >\n        </el-pagination>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: 'recommend',\n        data() {\n            return {\n                // 总条数\n                total:0,\n                // 页码\n                page:1,\n                highquality: {},\n                playlists: [],\n                tag: '全部'\n            };\n        },\n        // 侦听器\n        watch:{\n            tag() {\n                this.topData()// 精品歌单\n                this.indexData()// 歌单列表\n                this.page = 1\n            }\n        },\n        created(){\n            this.topData()// 精品歌单\n            this.indexData()// 歌单列表\n        },\n        methods: {\n            topData() {\n                axios({\n                    url: 'https://autumnfish.cn/top/playlist/highquality',\n                    methods: 'get',\n                    params: {\n                        limit: 1,\n                        cat: this.tag\n                    }\n                }).then(res => {\n                    this.highquality = res.data.playlists[0]\n                })\n            },\n            indexData() {\n                axios({\n                    url: 'https://autumnfish.cn/top/playlist/',\n                    methods: 'get',\n                    params: {\n                        limit: 10,\n                        offset: (this.page-1) * 10,\n                        cat: this.tag\n                    }\n                }).then(res => {\n                    this.playlists = res.data.playlists\n                    this.total = res.data.total\n                })\n            },\n            handleCurrentChange(val) {\n                this.page = val\n                this.indexData()\n            }\n        }\n    };\n</script>\n\n<style >\n\n</style>\n"]}]}